 /* === Generelt === */
body {
    font-family: sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f4f4f4;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    overflow: hidden;
}

* {
    box-sizing: border-box;
}

/* === Hovedlayout === */
.app-container {
    display: flex;
    width: 100%;
    max-width: 1600px;
    height: 95vh;
    margin-top: 2.5vh;
    background-color: #fff;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    border-radius: 5px;
    overflow: hidden;
}

/* === 1. Sidepanel (Kontrollpanel) === */
.sidebar {
    width: 300px;
    min-width: 300px;
    background-color: #e9e9e9;
    padding: 15px;
    overflow-y: auto;
    height: 100%;
    border-right: 1px solid #ccc;
    display: flex;
    flex-direction: column;
}

.sidebar h2, .sidebar h3, .sidebar h4 {
    margin-top: 0;
    margin-bottom: 10px;
    color: #333;
}

.sidebar h3 {
    border-bottom: 1px solid #ccc;
    padding-bottom: 5px;
}
.sidebar h4 {
     border-bottom: 1px solid #ccc;
     padding-bottom: 5px;
     margin-bottom: 5px;
}

.control-section {
    margin-bottom: 15px;
    padding: 10px;
    background-color: #fdfdfd;
    border: 1px solid #ddd;
    border-radius: 4px;
    flex-shrink: 0;
}

/* Lister i sidepanelet */
#on-pitch-list, #bench-list, #squad-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

#on-pitch-list li, #bench-list li, #squad-list li {
    padding: 5px 8px;
    border-bottom: 1px solid #eee;
    font-size: 0.95em;
    background-color: #fff;
    margin-bottom: 2px;
    border-radius: 3px;
    display: flex;
    align-items: center;
}

#on-pitch-list li i, #bench-list li i, #squad-list li i {
    color: #777;
    font-style: italic;
    padding: 5px;
    display: block;
    background-color: transparent;
    border-bottom: none;
}

/* 1.0 På Banen */
#on-pitch-section { background-color: #e6f7ff; border-color: #b3e0ff; }
#on-pitch-list { max-height: 180px; overflow-y: auto; }
.on-pitch-player-item { cursor: default; }
.on-pitch-player-item:hover { background-color: #f0f8ff; }

/* 1.1 På Benken */
#bench { background-color: #fff0e6; border-color: #ffe0b3; min-height: 100px; }
#bench-list { max-height: 180px; overflow-y: auto; flex-grow: 1; }
.bench-player-item { cursor: grab; }
.bench-player-item:hover { background-color: #fff5e6; }

/* 1.2 Tropp */
#squad-management { flex-grow: 1; display: flex; flex-direction: column; }
#squad-list-container { border: 1px solid #ddd; background-color: #fff; overflow-y: auto; flex-grow: 1; min-height: 50px; }
.squad-player-item { cursor: grab; }
.squad-player-item:hover { background-color: #f5f5f5; }

/* === 2. Hovedområde (Bane) === */
.main-content { flex-grow: 1; display: flex; justify-content: center; align-items: center; padding: 20px; height: 100%; overflow: auto; background-color: #ededed; }
#pitch-container { width: 100%; max-width: 1050px; aspect-ratio: 105 / 68; position: relative; }
#pitch { width: 100%; height: 100%; background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Football_pitch_v.svg/1050px-Football_pitch_v.svg.png'); background-size: contain; background-repeat: no-repeat; background-position: center; position: relative; border: 1px solid #555; overflow: hidden; }

/* === Spillerbrikker PÅ BANEN === */
.player-piece {
    position: absolute;
    width: 70px;
    height: auto;
    cursor: grab;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 20;
    user-select: none;
    -webkit-user-select: none;
    opacity: 1; /* Standard opacitet */
    transition: transform 0.1s ease-out, border-color 0.2s ease, opacity 0.2s ease; /* Transition for opacity */
}

.player-image-container { width: 55px; height: 55px; border-radius: 50%; border: 3px solid black; background-color: rgba(50, 50, 50, 0.8); overflow: hidden; display: flex; justify-content: center; align-items: center; margin-bottom: 3px; }
.player-image { width: 100%; height: 100%; background-color: #ccc; background-size: cover; background-position: center; background-repeat: no-repeat; border-radius: 50%; }
.player-name { background-color: rgba(0,0,0,0.7); color: white; padding: 2px 5px; border-radius: 3px; font-size: 10px; font-weight: bold; text-align: center; max-width: 65px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* === Ball === */
#ball { position: absolute; width: 20px; height: 20px; background-color: #fff; border: 1px solid black; border-radius: 50%; cursor: grab; display: flex; justify-content: center; align-items: center; font-size: 8px; color: black; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 15; }

/* === Tegning Canvas === */
#drawing-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 10; }

/* === Drag and Drop Styling === */
.draggable { cursor: grab; }
.dragging {
    cursor: grabbing !important;
    opacity: 0.5 !important; /* Gjør elementet som dras (f.eks. list item) halv-gjennomsiktig */
    z-index: 1000 !important;
}
.player-piece.dragging {
    /* For selve brikken på banen, unngå å sette opacity på hele containeren */
    /* Opacity settes på innholdet i stedet */
    background-color: transparent !important; /* Fjern evt. blå bakgrunn */
    opacity: 1 !important; /* Sørg for at selve piece-diven er fullt synlig */
}
.player-piece.dragging .player-image-container,
.player-piece.dragging .player-name {
     opacity: 0.6; /* Gjør innholdet gjennomsiktig */
}

/* Drop Targets */
.drop-target.drag-over { border-style: solid; border-width: 2px; }
#pitch.drag-over { background-color: rgba(144, 238, 144, 0.15); border-color: #66cc66; }
#bench.drag-over { background-color: rgba(255, 235, 150, 0.3); border-color: #ffcc66; }
#squad-list-container.drag-over { background-color: rgba(200, 200, 200, 0.2); border-color: #999999; }

/* === Spillerbrikke Valg Styling === */
.player-piece.selected .player-image-container { box-shadow: 0 0 10px 3px gold; transform: scale(1.1); }
.player-piece.selected { z-index: 25; }

/* === Modal Generelt === */
.modal { display: none; position: fixed; z-index: 1001; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4); }
.modal-content { background-color: #fefefe; margin: 10% auto; /* Justert margin for bedre plassering */ padding: 20px; border: 1px solid #888; width: 90%; /* Litt bredere på mindre skjermer */ max-width: 500px; border-radius: 5px; position: relative; }
.close-button { color: #aaa; position: absolute; top: 10px; right: 15px; font-size: 28px; font-weight: bold; }
.close-button:hover, .close-button:focus { color: black; text-decoration: none; cursor: pointer; }

/* === Player Detail Modal Spesifikk === */
.modal-content.wide { max-width: 800px; }
.modal-columns { display: flex; gap: 20px; flex-wrap: wrap; /* Tillat wrap på små skjermer */ }
.modal-column { flex: 1; min-width: 250px; /* Minimum bredde før wrapping */}
.modal-column h4 { margin-top: 15px; margin-bottom: 8px; border-bottom: 1px solid #eee; padding-bottom: 4px; }
.modal-column h4:first-child { margin-top: 0; }
.detail-image-display { width: 100px; height: 100px; background-color: #eee; border: 1px solid #ccc; border-radius: 50%; margin-bottom: 10px; background-size: cover; background-position: center; background-repeat: no-repeat; display: flex; justify-content: center; align-items: center; text-align: center; color: #777; font-size: 0.8em; }
#detail-player-image-url { margin-bottom: 15px; }
#detail-match-comment { width: 100%; margin-bottom: 5px; padding: 5px; border: 1px solid #ccc; border-radius: 3px; font-family: sans-serif; }
#add-comment-to-history-button { display: block; margin-bottom: 15px; }
.comment-history { max-height: 200px; overflow-y: auto; border: 1px solid #eee; padding: 10px; background-color: #f9f9f9; font-size: 0.9em; margin-top: 5px; }
.comment-history p { margin: 0 0 10px 0; padding-bottom: 10px; border-bottom: 1px dashed #ddd; }
.comment-history p:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }
.comment-history .comment-date { font-weight: bold; color: #555; display: block; margin-bottom: 3px; }
.modal-footer { margin-top: 20px; padding-top: 15px; border-top: 1px solid #ccc; text-align: right; }

/* === Diverse UI Elementer === */
button { padding: 8px 15px; background-color: #4CAF50; color: white; border: none; border-radius: 3px; cursor: pointer; margin: 5px 2px; transition: background-color 0.2s ease; }
button:hover { background-color: #45a049; }
button:active { background-color: #3e8e41; }
input[type="text"], input[type="tel"], input[type="email"], input[type="date"], input[type="number"], input[type="color"], select, textarea { padding: 8px; margin: 5px 0; border: 1px solid #ccc; border-radius: 3px; width: calc(100% - 16px); /* Full bredde minus padding for de fleste */ font-size: 1em; /* Sørg for lesbar skrift */ }
input[type="color"] { padding: 0; height: 30px; width: 50px; vertical-align: middle; margin-right: 5px; width: auto; /* La den ta auto bredde */ }
input[type="file"] { margin: 5px 0; width: auto; /* Auto bredde */ }
input[type="number"] { width: 80px; /* Litt smalere for tall */}
label { display: block; margin-bottom: 3px; font-weight: bold; margin-top: 10px; }
label[for="player-border-color"] { display: inline-block; margin-right: 5px; margin-top: 0; }
p { font-size: 0.9em; color: #666; margin: 5px 0 10px 0; }
